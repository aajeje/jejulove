<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MONSS DESIGN UI</title>
  <style>
    /* ========== 전역 & 레이아웃 ========== */
    body, html {
      margin: 0; padding: 0;
      width:100%; height:100%;
      display:flex; justify-content:center; align-items:center;
      background:#f7f7f7;
      font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      cursor: default;
    }
    .guide-wrap {
      position: relative;
      width: 360px; height: 720px;
      background: linear-gradient(to bottom right, #eeeeee, #aaaaaa);
      border-radius: 24px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.06);
      overflow: hidden;
    }

    /* ========== 네비게이션 & 라벨 ========== */
    .nav-icon {
      position:absolute; top:16px; left:16px;
      width:24px; height:24px;
      cursor:pointer; z-index:3;
    }
    .nav-icon::before, .nav-icon::after, .nav-icon div {
      content:''; display:block;
      height:2px; width:24px;
      background:#bbb; margin:5px 0;
    }
    .step-label {
      position:absolute; top:16px; right:16px;
      font-size:14px; color:#87aaf1; z-index:3;
    }

    /* ========== 블롭 배경 ========== */
    .blob {
      position:absolute;
      width:600px; height:600px;
      top:80px; left:-30%;
      pointer-events:none; z-index:1;
      transform-origin:center;
      transition: transform 0.8s ease;
    }
    .blob svg { width:100%; height:100%; }

    /* ========== 슬라이더 & 페이지 ========== */
    .screen-content {
      position:absolute;
      top:64px; left:0; right:0; bottom:88px;
      display:flex; flex-direction:row;
      overflow-x:auto; scroll-snap-type:x mandatory;
      scroll-behavior:smooth; -webkit-overflow-scrolling:touch;
      cursor:grab; z-index:2; user-select:none;
    }
    .screen-content.grabbing { cursor:grabbing; }
    .screen-content::-webkit-scrollbar { display:none; }

    .screen-page {
      flex:0 0 100%; scroll-snap-align:start;
      display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      opacity:0; transition:opacity 0.6s ease;
      user-select:none;
    }
    .screen-page.active { opacity:1; }

    /* ========== 텍스트 스타일 ========== */
    .monss-text {
      font-size:72px; font-weight:bold;
      color:#f7f7f7;
      text-shadow:
        -4px -4px 8px rgba(255,255,255,0.9),
         4px  4px 8px rgba(0,0,0,0.1);
      margin-bottom:40px;
      white-space:nowrap; overflow: hidden;
  transition: opacity 0.5s ease;
  opacity: 1;
}
    .graphic-text {
      font-size:32px; font-weight:bold;
      color:#ffffff; margin-bottom:20px;
    }

    /* ========== 버튼 ========== */
    .actions {
      position:absolute; bottom:120px; left:50%;
      transform:translateX(-50%);
      display:flex; flex-direction:column;
      align-items:center; gap:16px;
      width:100%; padding:0 24px; z-index:2;
    }
    /* 첫 페이지는 중앙 스택 배치 */
    .screen-page:first-child .actions {
      position:relative; bottom:auto; left:auto;
      transform:none; margin-top:20px;
    }
    .action-btn {
      width:100%; max-width:280px; height:48px;
      background:#fff; border:none; border-radius:24px;
      font-size:16px; color:#607d8b;
      box-shadow:
        -3px -3px 6px rgba(255,255,255,0.85),
         3px  3px 6px rgba(0,0,0,0.07);
      transition:transform 0.1s ease, box-shadow 0.1s ease;
      cursor:pointer;
    }
    .action-btn:active {
      transform:scale(0.96);
      box-shadow:
        inset -2px -2px 4px rgba(255,255,255,0.7),
        inset  2px  2px 4px rgba(0,0,0,0.05);
    }

    /* ========== 하단 도트 네비게이션 ========== */
    .footer {
      position:absolute; bottom:16px; left:0; right:0;
      display:flex; justify-content:center; align-items:center;
      gap:12px; z-index:2;
    }
    .dot {
      width:8px; height:8px; background:#e0e0e0;
      border-radius:50%; cursor:pointer;
      transition:background 0.3s;
    }
    .dot[aria-pressed="true"] {
      background:#87aaf1;
    }

    /* ========== 커스텀 커서 ========== */
    .custom-cursor {
      position:fixed; top:0; left:0;
      width:24px; height:24px;
      border-radius:50%;
      border:2px solid #87CEEB;
      background:transparent;
      pointer-events:none;
      transform:translate(-50%,-50%);
      z-index:9999;
      transition:background 0.3s, border-color 0.3s;
    }
    @keyframes spin {
      to { transform:translate(-50%,-50%) rotate(360deg); }
    }
    .custom-cursor.active {
      border-color:transparent;
      background:conic-gradient(from 0deg,#FF5E94,#00C1FF,#FF5E94);
      animation:spin 1s linear infinite;
    }
  </style>
</head>
<body>
  <div class="custom-cursor"></div>
  <div class="guide-wrap" role="region" aria-label="Guide Pages">
    <div class="nav-icon" role="button" aria-label="Menu"><div></div></div>
    <div class="step-label" aria-live="polite">01 — Waiter</div>

    <div class="blob">
      <svg viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="blobGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#FF5E94" />
            <stop offset="100%" stop-color="#00C1FF" />
          </linearGradient>
        </defs>
        <path
  id="blobPath"
  fill="none"
  stroke="url(#blobGrad)"
  stroke-width="1"
  d="M450,100 C520,180 580,300 480,380 ... Z">
          <animate id="blobAnim" attributeName="d" dur="0.8s" fill="freeze"
                   calcMode="spline" keyTimes="0;1"
                   keySplines="0.42 0 0.58 1" />
        </path>
      </svg>
    </div>

    <div class="screen-content" tabindex="0" role="region" aria-label="Scrollable pages">
      <div class="screen-page" role="group" aria-label="Page 1">
        <div class="monss-text">monss</div>
        <div class="actions">
          <button id="emailBtn" class="action-btn" aria-label="Show email">Email</button>
          <button id="phoneBtn" class="action-btn" aria-label="Call phone">Phone</button>
        </div>
      </div>
      <div class="screen-page" role="group" aria-label="Page 2">
        <div class="graphic-text">graphic designer</div>
      </div>
      <div class="screen-page" role="group" aria-label="Page 3">
        <div class="graphic-text">Jiwon</div>
      </div>
    </div>

    <div class="footer" role="navigation" aria-label="Page navigation">
      <div class="dot" role="button" aria-pressed="false"></div>
      <div class="dot" role="button" aria-pressed="false"></div>
      <div class="dot" role="button" aria-pressed="true"></div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // --- 모듈화된 변수 선언 ---
      const cursor    = document.querySelector('.custom-cursor');
      const slider    = document.querySelector('.screen-content');
      const pages     = [...document.querySelectorAll('.screen-page')];
      const dots      = [...document.querySelectorAll('.dot')];
      const stepLabel = document.querySelector('.step-label');
      const blobAnim  = document.getElementById('blobAnim');
      const blobEl    = document.querySelector('.blob');
      const textEl    = document.querySelector('.monss-text');
      const parentW   = textEl.parentElement.clientWidth;

      const blobShapes = [
        "M450,100 C520,180 580,300 480,380 C380,460 260,460 180,380 C100,300 140,180 230,120 C320,60 400,80 450,100 Z",
        "M400,80 C500,200 600,320 500,400 C400,480 260,480 180,380 C100,280 120,160 220,120 C320,80 380,100 400,80 Z",
        "M480,120 C560,200 620,320 520,420 C420,520 300,520 200,420 C100,320 140,180 260,100 C380,20 420,80 480,120 Z"
      ];
      const blobScales = [1, 1.5, 0.7];
      let prevIdx = 0, isTicking = false, idleTimer, originalText = textEl.textContent;

      // --- 커스텀 커서 & idle 복원 ---
      function resetIdle() {
  clearTimeout(idleTimer);
  idleTimer = setTimeout(() => {
    if (prevIdx === 0) {
      // 페이드 아웃
      textEl.style.opacity = 0;

      setTimeout(() => {
        textEl.textContent = originalText;
        textEl.style.fontSize = '72px';
        textEl.style.opacity = 1;
      }, 500);
    }
  }, 3000);
}
      document.addEventListener('mousemove', e => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top  = e.clientY + 'px';
        resetIdle();
      });
      document.addEventListener('mousedown', () => {
        cursor.classList.add('active'); resetIdle();
      });
      document.addEventListener('mouseup',   () => cursor.classList.remove('active'));
      document.addEventListener('touchstart', resetIdle);

      // --- 텍스트 변경 함수 ---
      function updateText(newText) {
        textEl.style.fontSize = '72px';
        textEl.textContent = newText;
        const w = textEl.scrollWidth;
        if (w > parentW) {
          textEl.style.fontSize = (72 * parentW / w) + 'px';
        }
      }
      document.getElementById('emailBtn').addEventListener('click', () => updateText('AAJEJ@hanmail.net'));
      document.getElementById('phoneBtn').addEventListener('click', () => {
        updateText('+821034405337');
        window.location.href = 'tel:+821034405337';
      });

      // --- 스크롤 & 드래그 핸들러 ---
      let isDown=false, startX, scrollLeft;
      slider.addEventListener('mousedown', e => {
        isDown = true; slider.classList.add('grabbing');
        startX = e.pageX - slider.offsetLeft; scrollLeft = slider.scrollLeft;
      });
      ['mouseleave','mouseup'].forEach(evt =>
        slider.addEventListener(evt, () => { isDown=false; slider.classList.remove('grabbing'); })
      );
      slider.addEventListener('mousemove', e => {
        if (!isDown) return;
        e.preventDefault();
        slider.scrollLeft = scrollLeft - (e.pageX - slider.offsetLeft - startX);
      });
      slider.addEventListener('touchstart', e => {
        isDown=true;
        startX = e.touches[0].pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
      });
      slider.addEventListener('touchmove', e => {
        if (!isDown) return;
        slider.scrollLeft = scrollLeft - (e.touches[0].pageX - startX);
      });

      // --- 마우스 휠 지원 ---
      slider.addEventListener('wheel', e => {
        e.preventDefault();
        slider.scrollLeft += e.deltaY;
      }, { passive: false });

      // --- 도트 네비게이션 & ARIA 토글 ---
      dots.forEach((dot,i) => {
        dot.setAttribute('aria-pressed', i===0);
        dot.addEventListener('click', () => {
          slider.scrollTo({ left: slider.clientWidth * i, behavior: 'smooth' });
        });
      });

      // --- 최적화된 스크롤 이벤트 (rAF) ---
      slider.addEventListener('scroll', () => {
        if (!isTicking) {
          window.requestAnimationFrame(onScroll);
          isTicking = true;
        }
      });
      function onScroll() {
        const maxScroll = slider.scrollWidth - slider.clientWidth;
        const t = slider.scrollLeft / (maxScroll || 1);
        const idx = Math.round(t * (pages.length - 1));

        // 페이지 & 도트 활성화
        pages.forEach((p,i) => p.classList.toggle('active', i===idx));
        dots .forEach((d,i) => d.setAttribute('aria-pressed', i===idx));

        // 스텝 라벨
        stepLabel.textContent = `${String(idx+1).padStart(2,'0')} — Waiter`;

        // 블롭 모핑 & 크기
        if (idx !== prevIdx) {
          blobAnim.setAttribute('values',
            `${blobShapes[prevIdx]};${blobShapes[idx]}`
          );
          blobAnim.beginElement();
          blobEl.style.transform = `translateX(-30%) scale(${blobScales[idx]})`;
          prevIdx = idx;
        }
        isTicking = false;
      }

      // --- 초기화 ---
      pages.forEach((p,i) => p.classList.toggle('active', i===0));
      slider.dispatchEvent(new Event('scroll'));
      resetIdle();
    });
  </script>
</body>
</html>
